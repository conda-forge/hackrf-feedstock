From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Ryan Volz <ryan.volz@gmail.com>
Date: Fri, 14 Jan 2022 09:11:19 -0500
Subject: [PATCH] Rename hackrf.dll to hackrf-0.dll on Windows.

This allows installing multiple major versions of the library on
Windows, which brings feature parity to the Unix builds for packaging
into a libhackrf0 package.
---
 host/libhackrf/src/CMakeLists.txt | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/host/libhackrf/src/CMakeLists.txt b/host/libhackrf/src/CMakeLists.txt
index f10ce61c..821cfe87 100644
--- a/host/libhackrf/src/CMakeLists.txt
+++ b/host/libhackrf/src/CMakeLists.txt
@@ -91,6 +91,10 @@ if(ENABLE_SHARED_LIB)
     SOVERSION ${PROJECT_VERSION_MAJOR})
   libhackrf_common_settings(hackrf)
   add_library(HackRF::hackrf ALIAS hackrf)
+
+  if(MSVC)
+    set_target_properties(hackrf PROPERTIES RUNTIME_OUTPUT_NAME "hackrf-${PROJECT_VERSION_MAJOR}")
+  endif()
 endif()
 
 # Static library
-- 
2.51.0

